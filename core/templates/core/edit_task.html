{% extends 'core/base.html' %}
{% load django_bootstrap5 %}

{% block title %}Edit Task - CodeValidator{% endblock %}

{% block content %}
<div class="card p-4 mx-auto" style="max-width: 800px;">
    <h3>Edit Task</h3>
    <p class="text-muted">Assignment: {{ task.assignment.title }}</p>

    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" name="title" id="title" class="form-control" value="{{ task.title }}" required>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea name="description" id="description" class="form-control" rows="5"
                required>{{ task.description }}</textarea>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="task_type" class="form-label">Task Type</label>
                <select name="task_type" id="task_type" class="form-select">
                    <option value="CODING" {% if task.task_type=='CODING' %}selected{% endif %}>Coding Task</option>
                    <option value="DESCRIPTION_ONLY" {% if task.task_type=='DESCRIPTION_ONLY' %}selected{% endif %}>
                        Description Only</option>
                </select>
            </div>
            <div class="col-md-6 mb-3">
                <label for="validation_type" class="form-label">Validation Type</label>
                <select name="validation_type" id="validation_type" class="form-select">
                    <option value="MANUAL" {% if task.validation_type=='MANUAL' %}selected{% endif %}>Manual Grading
                    </option>
                    <option value="AUTO" {% if task.validation_type=='AUTO' %}selected{% endif %}>Auto Validation
                    </option>
                </select>
            </div>
        </div>
        <div class="d-flex justify-content-between">
            <a href="{% url 'manage_tasks' task.assignment.id %}" class="btn btn-outline-secondary">Cancel</a>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
    </form>
</div>
{% endblock %}