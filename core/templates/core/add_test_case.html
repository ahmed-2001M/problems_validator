{% extends 'core/base.html' %}

{% block title %}Test Cases - {{ task.title }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-5">
        <div class="card p-4">
            <h4>Add Test Case</h4>
            <p class="text-muted small">Define what input the code should receive and what output it should produce.</p>
            <form hx-post="{% url 'add_test_case' task.id %}" hx-target="#test-case-list" hx-on::after-request="this.reset()">
                {% csrf_token %}
                <div class="mb-3">
                    <label class="form-label">Input (stdin)</label>
                    <textarea name="input_data" class="form-control" rows="2" placeholder="e.g. 5"></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label">Expected Output (stdout)</label>
                    <textarea name="expected_output" class="form-control" rows="2" placeholder="e.g. 25" required></textarea>
                </div>
                <button type="submit" class="btn btn-info w-100">Add Test Case</button>
            </form>
            <div class="mt-3">
                <a href="{% url 'manage_tasks' task.assignment.id %}" class="btn btn-link w-100">Done / Back to Tasks</a>
            </div>
        </div>
    </div>
    <div class="col-md-7">
        <div class="card p-4">
            <h4>Existing Test Cases</h4>
            <div id="test-case-list">
                {% include 'core/partials/test_case_list.html' with test_cases=task.test_cases.all %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
